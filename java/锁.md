# synchronized

重量级锁，同一时间只有一个线程在执行，其他未获取到锁的线程进入对象的锁池队列并进入阻塞状态放弃CPU执行权，因为切换线程需要在cpu用户态和内核态之间切换，线程切换频繁造成资源浪费。  

synchronized修饰static方法、对象，它可以对类的所有对象实例起作用。


## synchronized 方法
每个类实例对应一把锁，每个 synchronized 方法都必须获得调用该方法的类实例的锁方能执行，否则所属线程阻塞，方法一旦执行，就独占该锁，直到从该方法返回时才将锁释放，此后被阻塞的线程方能获得该锁，重新进入可执行状态。

[JMM](https://juejin.cn/post/6844903600318054413)

## 指令重排
不改变程序执行结果的前提下，尽可能提高并行度。
为了提高性能，编译器和处理器常常会对指令进行重排序。
